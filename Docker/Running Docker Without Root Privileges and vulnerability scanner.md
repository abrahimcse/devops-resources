# Running Docker Without Root Privileges
## Option 1: Configure Docker Rootless Mode

### Step 1: Install Dependencies
Install the required tools for rootless Docker:

```bash
sudo apt-get update
sudo apt-get install -y uidmap
```
### Step 2: Install Docker Rootless Mode
Run the rootless setup tool:
```bash
dockerd-rootless-setuptool.sh install
```

## Option 2: Add User to Docker Group
### Step 1: Create or Verify Docker Group
Check if the docker group exists:
```bash
cat /etc/group | grep docker
```
If not, create it:
```bash
sudo groupadd docker
```
### Step 2: Add Your User to the Docker Group
```bash
sudo usermod -aG docker $USER
```
### Step 3: Restart Docker Service
```bash
sudo systemctl restart docker
```

### Step 4: Verify Docker Access
```bash
docker run hello-world
```
You should see the output without using `sudo`.

## Summary
- `Rootless Mode`: Enhanced security, no root privileges required.
- `Docker Group`: Quick setup but slightly less secure.



# Docker Vulnerability Scanning with Trivy

Trivy is a powerful and user-friendly tool to scan Docker images, filesystems, and repositories for vulnerabilities. It helps ensure secure container deployments by detecting known CVEs and misconfigurations.

## Installation

### 1. For Linux
```bash
curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh
sudo mv trivy /usr/local/bin/
```
### 2. Using Docker
```bash
docker run --rm -v /var/run/docker.sock:/var/run/docker.sock aquasec/trivy <image-name>
```
## Scanning Docker Images
### 1. Basic Scan
```bash
trivy image <image-name>
```
### 2. Scan with Severity Filter
```bash
trivy image --severity HIGH,CRITICAL <image-name>
```
### 3. Scan with Output to File
```bash
trivy image --format json -o report.json <image-name>
```
### 4. Scanning Filesystem or Directories
```bash
trivy fs /path/to/directory
```
### 5. Scan Images in a Docker Compose File
List images:
```bash
docker-compose config | grep image
```